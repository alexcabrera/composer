@import "compass/css3"

@import "_responsive"
@import "_default_theme"


+exports('Block')
    %Block
        +box-sizing(border-box)
        margin      : 0 auto
        display     : block
        position    : relative



    %floatable-sizable-block
        width: 100%
        clear: both
        max-width: $main_column_width
        .content
            font-size: 0
            > *
                font-size: $font_size

        padding-left    : $body_padding
        padding-right   : $body_padding
        .content
            width           : 100%
            float           : none
            margin-left     : 0
            margin-right    : 0
            max-width       : none

        +respond-to-gt(handhelds)
            &[data-position="center"]
                padding-left: $body_padding
                padding-right: $body_padding

            &[data-position="left"], &[data-position="right"]
                +respond-to-gt(handhelds)
                    margin-bottom: 0
                    .content
                        margin-bottom: $line_height * $font_size

            &[data-position="left"] .content
                float: left
                margin-right: $font_size * $line_height
                @media only screen and (max-width: $text_width)
                    margin-left: $body_padding

            &[data-position="right"] .content
                float: right
                margin-left: $font_size * $line_height
                @media only screen and (max-width: $text_width)
                    margin-right: $body_padding
                .caption
                    text-align: right

            &[data-size="small"]
                &[data-position="center"], .content
                    max-width: $main_column_width / 4 - $body_padding
            &[data-size="medium"]
                &[data-position="center"], .content
                    max-width: $text_width
                &[data-position="right"], &[data-position="left"]
                    .content
                        +respond-to-gt(handhelds)
                            width: 51%
                            // Not 50%, which, because of rounding, ends up being
                            // 1 pixel too narrow, resulting in a blurry image.

            &[data-size="large"]
                &[data-position="left"], &[data-position="right"]
                    .content
                        width: 100%
                        max-width: $main_column_width / 4 * 3
                &[data-position="center"]
                    max-width: none
                    padding-left: 0
                    padding-right: 0
                    .content
                        padding-left: 0
                        padding-right: 0
                        max-width: none




